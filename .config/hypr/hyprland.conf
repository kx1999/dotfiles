# #######################################################################################
# AUTOGENERATED HYPR CONFIG.
# PLEASE USE THE CONFIG PROVIDED IN THE GIT REPO /examples/hypr.conf AND EDIT IT,
# OR EDIT THIS ONE ACCORDING TO THE WIKI INSTRUCTIONS.
# #######################################################################################

# Please note not all available settings / options are set here.
# For a full list, see the wiki

# ------------------------------------------------------------------------------------- #

# Set some global variables
$mainMod = SUPER
$terminal = kitty
$fileManager = thunar
$menu = wofi

# Select tiling layout
source = ~/.config/hypr/dwindle.conf
# source = ~/.config/hypr/scroller.conf


# See https://wiki.hyprland.org/Configuring/Monitors/
monitor=DP-2,3440x1440@165,0x0,1

workspace = special:magic2,on-created-empty:spotify
workspace = special:magic3,gapsout:100

workspace = 1,gapsin:0,gapsout:0
# workspace = 2, 
# workspace = 3, 
workspace = 4,monitor:DP-2,on-created-empty:$fileManager /home/kyle/Desktop/fmod_celeste/
workspace = 5,monitor:DP-2,on-created-empty:$fileManager /mnt/hdd1/Clips/ & 
workspace = 6,monitor:DP-2,on-created-empty:$fileManager /mnt/hdd1/Pictures/ & krita & upscayl
workspace = 7,monitor:DP-2,on-created-empty:obsidian
# workspace = 8, 
# workspace = 9, 
# workspace = 10, 

# See https://wiki.hyprland.org/Configuring/Keywords/ for more

# Execute your favorite apps at launch
exec-once = waybar & hyprpaper & dunst & spotify & obs & steam & deluge & udiskie & openrgb & solaar & hypridle & hyprpm reload -n
exec-once = sleep 1 && keepassxc
exec-once = vesktop --enable-features=UseOzonePlatform --ozone-platform=wayland
exec-once = clipse -listen

exec-once = [workspace 1 silent] $terminal -T btop -e btop 
exec-once = [workspace 1 silent] $terminal -T fastfetch --hold -e fastfetch
exec-once = [workspace special:magic3 silent] wayboard /home/kyle/Desktop/wayboard/layout.cfg
exec-once = [workspace special:magic3 silent] $terminal

exec-once = [workspace 1 silent] kitty -c ~/.config/hypr/kittybg.conf --class="kitty_bg" ~/.config/hypr/scripts/cavaWinwrap.sh
exec-once = [workspace 2] firefox

# Source a file (/multi-file configs)

# Some default env vars.
env = HYPRCURSOR_THEME,hyprcursor_Dracula
env = HYPRCURSOR_SIZE,24
env = XCURSOR_THEME,Dracula-cursors
env = XCURSOR_SIZE,24
env = XDG_SESSION_TYPE,wayland
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_DESKTOP,Hyprland
env = GDK_BACKEND,wayland,x11,*
env = QT_QPA_PLATFORM,wayland;xcb
env = QT_QPA_PLATFORMTHEME,qt6ct # change to qt6ct if you have that
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
env = QT_AUTO_SCREEN_SCALE_FACTOR,1
env = WLR_NO_HARDWARE_CURSORS,1
env = SDL_VIDEODRIVER,wayland
env = CLUTTER_BACKEND,wayland
env = EDITOR,nvim
# env = LIBVA_DRIVER_NAME,nvidia
# env = GBM_BACKEND,nvidia-drm
# env = __GLX_VENDOR_LIBRARY_NAME,nvidia
# env = __GL_GSYNC_ALLOWED,1
# env = __GL_SYNC_TO_VBLANK,1
# env = WLR_DRM_NO_ATOMIC,1

# For all categories, see https://wiki.hyprland.org/Configuring/Variables/
debug {

    disable_logs = false
    enable_stdout_logs = true
    error_limit = 10

}


input {
    
    kb_layout = us

    follow_mouse = 1
    mouse_refocus = true
    accel_profile = flat
    scroll_factor = 1
    repeat_rate = 35
    repeat_delay = 200
    numlock_by_default = true    

    sensitivity = 0
    float_switch_override_focus = 2
    special_fallthrough = false
    
    touchpad {
	middle_button_emulation = true
    }
}

general {
    
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    gaps_in = 5
    gaps_out = 10
    border_size = 1
    col.active_border = rgba(ff55aaff) rgba(aa22ffff) 180deg
    col.inactive_border = rgba(595959dd) rgba(898989cc) 180deg
    cursor_inactive_timeout = 5
    no_cursor_warps = false
    resize_on_border = false
    extend_border_grab_area = 5

    layout = dwindle

    # Please see https://wiki.hyprland.org/Configuring/Tearing/ before you turn this on
    allow_tearing = false

}

decoration {

    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    rounding = 10
    
    blur {
        
        enabled = true
        size = 5
        passes = 3
	ignore_opacity = true
	special = false
	popups = true

	noise = 0
	contrast = 2.0
    }

    drop_shadow = yes
    shadow_range = 50
    shadow_render_power = 4
    col.shadow = rgba(ff55cc44)
    col.shadow_inactive = rgba(4a4a4a55)
    active_opacity = 0.975
    inactive_opacity = 0.85
    dim_inactive = true
    dim_strength = 0.1
    dim_special = 0.75

}

animations {
    
    enabled = yes

    bezier = smooth, 0.5, 1, 0.05, 1.02
    bezier = bounce, 0.1, 0.5, 0.1, 1.2
    bezier = linear, 1, 1, 1, 1

    animation = windowsMove, 1, 3.5, smooth
    animation = windowsIn, 1, 5.5, smooth, popin 80%
    animation = windowsOut, 1, 3.5, smooth, popin 60%
    animation = border, 1, 8, bounce
    animation = borderangle, 1, 35, linear, loop
    animation = fade, 1, 6, bounce
    animation = fadeIn, 1, 2.5, bounce
    animation = fadeOut, 1, 2.5, bounce
    animation = workspaces, 1, 3, smooth, slidefade 25%
    animation = specialWorkspace, 1, 2, smooth, fade

}

dwindle {

    # See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
    pseudotile = no # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = yes # you probably want this
    force_split = 0
    split_width_multiplier = 1.4

}

master {
    
    new_is_master = true

}

group {
    
    focus_removed_window = true
    col.border_active = rgba(ff55aaff) rgba(aa22ffff) 180deg
    col.border_inactive = rgba(595959dd) rgba(898989cc) 180deg

    groupbar {
        
	font_size = 10
	text_color = rgba(000000ff)
	col.active = rgba(11aaffaa) 
	col.inactive = rgba(797979aa)

	}

}

misc {

    disable_hyprland_logo = true
    force_default_wallpaper = 0 # Set to 0 or 1 to disable the anime mascot wallpapers
    disable_splash_rendering = true
    vrr = 1
    close_special_on_empty = false
    enable_hyprcursor = true
    mouse_move_focuses_monitor = true
    mouse_move_enables_dpms = false
    key_press_enables_dpms = true
    new_window_takes_over_fullscreen = 2

    enable_swallow = true
    swallow_regex = ^(kitty)$

}

plugin {
    
    hyprwinwrap {
        
	class = kittybg

    }

    hyprtrails {
	
	color = rgba(ff55aa44)

    }

    hyprscroller {

	column_default_width = onehalf
	focus_wrap = true

    }
}

# #######  WINDOW RULES  ######
# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more

windowrulev2 = suppressevent maximize, class:.* # You'll probably like this.
windowrulev2 = opacity 0.85 override 0.5 override,pinned:1
windowrulev2 = idleinhibit focus,fullscreen:1

windowrulev2 = float,class:^(vesktop)$,initialTitle:^(Discord Popout)$
windowrulev2 = pin,class:^(vesktop)$,initialTitle:^(Discord Popout)$
windowrulev2 = nodim,class:^(vesktop)$,initialTitle:^(Discord Popout)$
windowrulev2 = float,class:^(firefox)$,initialTitle:^(Picture-in-Picture)$
windowrulev2 = pin,class:^(firefox)$,initialTitle:^(Picture-in-Picture)$
windowrulev2 = nodim,class:^(firefox)$,initialTitle:^(Picture-in-Picture)$

windowrulev2 = float,class:^(kitty)$,title:^(fastfetch)$
windowrulev2 = size 1100 600,class:^(kitty)$,title:^(fastfetch)$
windowrulev2 = move 2160 150,class:^(kitty)$,title:^(fastfetch)$

windowrulev2 = float,class:^(kitty)$,title:^(btop)$
windowrulev2 = size 2000 1000,class:^(kitty)$,title:^(btop)$
windowrulev2 = move 70 270,class:^(kitty)$,title:^(btop)$

windowrulev2 = float,class:^(clipse)$
windowrulev2 = size 1300 750,class:^(clipse)$
windowrulev2 = move 1070 100,class:^(clipse)$
windowrulev2 = opacity 0.95 override,class:^(clipse)$
windowrulev2 = noblur,class:^(clipse)$
windowrulev2 = nodim,class:^(clipse)$
windowrulev2 = stayfocused,class:^(clipse)$

windowrulev2 = workspace special:magic3 silent,class:^(wayboard)$
windowrulev2 = noborder,class:^(wayboard)$
windowrulev2 = noshadow,class:^(wayboard)$
windowrulev2 = rounding 0,class:^(wayboard)$
windowrulev2 = opacity 0,class:^(wayboard)$
windowrulev2 = move 2880 190,class:^(wayboard)$
windowrulev2 = noblur,class:^(wayboard)$
windowrulev2 = nofocus,class:^(wayboard)$

windowrulev2 = float,class:^(org\.keepassxc\.KeePassXC)$
windowrulev2 = opacity 0.9 override 0.7 override,class:^(org\.keepassxc\.KeePassXC)$
windowrulev2 = size 1250 950,class:^(org\.keepassxc\.KeePassXC)$
windowrulev2 = stayfocused,class:^(org\.keepassxc\.KeePassXC)$

windowrulev2 = tile,class:^(fmod studio.exe)$

windowrulev2 = opacity 0.2 override,class:^(kitty_bg)$
windowrulev2 = noborder,class:^(kitty_bg)$
windowrulev2 = noblur,class:^(kitty_bg)$
windowrulev2 = nodim,class:^(kitty_bg)$
windowrulev2 = nofocus,class:^(kitty_bg)$
windowrulev2 = noshadow,class:^(kitty_bg)$

windowrulev2 = float,class:^(steam)$,title:^(Friends List)$
windowrulev2 = workspace 3 silent,class:^(steam)$
windowrulev2 = workspace 3 silent,title:^(Olympus)$
windowrulev2 = workspace 3 silent,class:^(EverestSplash-linux)$
windowrulev2 = workspace 3 silent,class:^(dota2|Celeste|factorio|Last Epoch)$
windowrulev2 = workspace 3 silent,class:^(steam_app_)(.*)$
windowrulev2 = workspace 4 silent,class:^(fmod studio.exe)$
windowrulev2 = workspace 5 silent,class:^(org.kde.kdenlive)$
windowrulev2 = workspace 6 silent,class:^(krita)$
windowrulev2 = workspace 6 silent,class:^(Upscayl)$
windowrulev2 = workspace 7 silent,class:^(libreoffice)(.*)$
windowrulev2 = workspace 7 silent,class:^(obsidian)$
windowrulev2 = workspace 10 silent,class:^(VirtualBox Manager)$

windowrulev2 = float,class:^(solaar)$
windowrulev2 = workspace special:magic1 silent,class:^(solaar)$
windowrulev2 = size 922 566,class:^(solaar)$
windowrulev2 = move 1861 82,class:^(solaar)$

windowrulev2 = float,class:^(deluge)$
windowrulev2 = workspace special:magic1 silent,class:^(deluge)$
windowrulev2 = size 1365 826,class:^(deluge)$
windowrulev2 = move 288 304,class:^(deluge)$

windowrulev2 = float,class:^(openrgb)$
windowrulev2 = workspace special:magic1 silent,class:^(openrgb)$
windowrulev2 = size 1253 672,class:^(openrgb)$
windowrulev2 = move 1731 688,class:^(openrgb)$

windowrulev2 = workspace special:magic2 silent;class:^(Spotify)$
windowrulev2 = float,class:^(Spotify)$
windowrulev2 = size 2400 1300,class:^(Spotify)$
windowrulev2 = pseudotile,class:^(Spotify)$

windowrulev2 = workspace special:magic3 silent,class:^(vesktop)$
windowrulev2 = workspace special:magic3 silent;class:^(com.obsproject.Studio)$


# ######  KEYBINDS  ######
# See https://wiki.hyprland.org/Configuring/Keywords/ for more

bind = $mainMod, T, exec, $terminal
bind = $mainMod, Q, killactive
bind = $mainMod, F, fullscreen
bind = $mainMod, X, exec, ~/.config/hypr/scripts/Wlogout.sh
bind = $mainMod, E, exec, $fileManager $(xdg-user-dir DESKTOP)
bind = $mainMod, I, exec, [float;size 700 500] $terminal --class cmdCalc -e calc
bind = $mainMod, G, togglefloating
bind = SUPER, SUPER_L, exec, pkill wofi || $menu
bind = $mainMod, P, pseudo, # dwindle
bind = $mainMod, W, togglesplit, # dwindle
bindl = , XF86AudioPlay, exec, playerctl --player=spotify,any play-pause
bindl = , XF86AudioPause, exec, playerctl --player=spotify,any play-pause
bindl = , XF86AudioNext, exec, playerctl --player=spotify,any next
bindl = , XF86AudioPrev, exec, playerctl --player=spotify,any previous
bindel =, XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 2%+ && changeVolume
bindel =, XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 2%- && changeVolume
bindl = $mainMod, O, exec, sleep 1 && hyprctl dispatch dpms off
bind = $mainMod, L, exec, hyprlock
bind = $mainMod CONTROL, P, exec, hyprpicker -a
bind = $mainMod ALT, D, exec, dunstctl set-paused toggle && notifyPause
bind = $mainMod ALT, ESCAPE, exec, $terminal -e btop
bind = $mainMod, Z, exec, pkill wayboard && wayboard /home/kyle/Desktop/wayboard/layout.cfg
bind = $mainMod SHIFT ALT, T, exec, keepassxc

# Workspaces
# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod ALT, 1, workspace, 6
bind = $mainMod ALT, 2, workspace, 7
bind = $mainMod ALT, 3, workspace, 8
bind = $mainMod ALT, 4, workspace, 9
bind = $mainMod ALT, 5, workspace, 10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod ALT SHIFT, 1, movetoworkspace, 6
bind = $mainMod ALT SHIFT, 2, movetoworkspace, 7
bind = $mainMod ALT SHIFT, 3, movetoworkspace, 8
bind = $mainMod ALT SHIFT, 4, movetoworkspace, 9
bind = $mainMod ALT SHIFT, 5, movetoworkspace, 10

# Special workspaces (scratchpad)
bind = $mainMod, S, togglespecialworkspace, magic3
bind = $mainMod SHIFT, S, movetoworkspace, special:magic3

bind = $mainMod, R, togglespecialworkspace, magic2
bind = $mainMod SHIFT, R, movetoworkspace, special:magic2

bind = $mainMod, A, togglespecialworkspace, magic1
bind = $mainMod SHIFT, A, movetoworkspace, special:magic1

# Scroll through workspace on current monitor
bind = $mainMod CONTROL, left, workspace, m-1
bind = $mainMod CONTROL, right, workspace, m+1
bind = $mainMod CONTROL SHIFT, left, movetoworkspace, m-1
bind = $mainMod CONTROL SHIFT, right, movetoworkspace, m+1
bind = $mainMod CONTROL, F4, workspace, r-1
bind = $mainMod CONTROL, D, workspace, r+1
bind = $mainMod CONTROL SHIFT, F4, movetoworkspace, r-1
bind = $mainMod CONTROL SHIFT, D, movetoworkspace, r+1

# Jump to next open workspace
# bind = $mainMod CONTROL, D, workspace, empty
# Jump to previous workspace
# bind = $mainMod CONTROL, F4, workspace, previous

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = ALT, mouse:272, movewindow
bindm = ALT, mouse:273, resizewindow

# Show/hide waybar
bind = $mainMod, B, exec, killall waybar || waybar

# Screenshotting
bindl = $mainMod SHIFT ALT CONTROL, S, exec, grim -g "$(slurp -c 00000000)" - | wl-copy
# Region screenshot
bindl = , Print, exec, grim -o DP-2 - | wl-copy # Main monitor screenshot

# Clipse
bind = $mainMod SHIFT ALT, V, exec, $terminal --class clipse -e zsh -c 'clipse'
bind = $mainMod, V, exec, clipse -clear && dunstify -a Clipse -t 1000 "📋Clipboard cleared"

# Window Groups
bind = $mainMod, N, togglegroup
bind = $mainMod SHIFT, N, lockgroups, toggle
bind = $mainMod SHIFT, left, movewindoworgroup, l
bind = $mainMod SHIFT, right, movewindoworgroup, r
bind = $mainMod SHIFT, up, movewindoworgroup, u
bind = $mainMod SHIFT, down, movewindoworgroup, d
bind = ALT, TAB, changegroupactive, f
bind = SHIFT ALT, TAB, changegroupactive, b

# Hyprpaper
$w1 = hyprctl hyprpaper unload all && hyprctl hyprpaper preload "/mnt/hdd1/Pictures/hld1.jpg" && hyprctl hyprpaper wallpaper "DP-2,/mnt/hdd1/Pictures/hld1.jpg"
$w2 = hyprctl hyprpaper unload all && hyprctl hyprpaper preload "/mnt/hdd1/Pictures/hld2.jpg" && hyprctl hyprpaper wallpaper "DP-2,/mnt/hdd1/Pictures/hld2.jpg"
$w3 = hyprctl hyprpaper unload all && hyprctl hyprpaper preload "/mnt/hdd1/Pictures/hld3.jpg" && hyprctl hyprpaper wallpaper "DP-2,/mnt/hdd1/Pictures/hld3.jpg"
$w4 = hyprctl hyprpaper unload all && hyprctl hyprpaper preload "/mnt/hdd1/Pictures/hld4.jpg" && hyprctl hyprpaper wallpaper "DP-2,/mnt/hdd1/Pictures/hld4.jpg"
$w5 = hyprctl hyprpaper unload all && hyprctl hyprpaper preload "/mnt/hdd1/Pictures/hld5.jpg" && hyprctl hyprpaper wallpaper "DP-2,/mnt/hdd1/Pictures/hld5.jpg"
$w6 = hyprctl hyprpaper unload all && hyprctl hyprpaper preload "/mnt/hdd1/Pictures/ow1.jpg" && hyprctl hyprpaper wallpaper "DP-2,/mnt/hdd1/Pictures/ow1.jpg"
$w7 = hyprctl hyprpaper unload all && hyprctl hyprpaper preload "/mnt/hdd1/Pictures/ow2.jpg" && hyprctl hyprpaper wallpaper "DP-2,/mnt/hdd1/Pictures/ow2.jpg"
$w8 = hyprctl hyprpaper unload all && hyprctl hyprpaper preload "/mnt/hdd1/Pictures/ow3.jpg" && hyprctl hyprpaper wallpaper "DP-2,/mnt/hdd1/Pictures/ow3.jpg"
$w9 = hyprctl hyprpaper unload all && hyprctl hyprpaper preload "/mnt/hdd1/Pictures/ow4.jpg" && hyprctl hyprpaper wallpaper "DP-2,/mnt/hdd1/Pictures/ow4.jpg"
$w0 = hyprctl hyprpaper unload all && hyprctl hyprpaper preload "/mnt/hdd1/Pictures/ow5.jpg" && hyprctl hyprpaper wallpaper "DP-2,/mnt/hdd1/Pictures/ow5.jpg"
bind = SUPER CONTROL, 1, exec, $w1
bind = SUPER CONTROL, 2, exec, $w2
bind = SUPER CONTROL, 3, exec, $w3
bind = SUPER CONTROL, 4, exec, $w4
bind = SUPER CONTROL, 5, exec, $w5
bind = SUPER CONTROL, 6, exec, $w6
bind = SUPER CONTROL, 7, exec, $w7
bind = SUPER CONTROL, 8, exec, $w8
bind = SUPER CONTROL, 9, exec, $w9
bind = SUPER CONTROL, 0, exec, $w0
bind = SUPER CONTROL, H, exec, (pkill hyprpaper && hyprctl dispatch exec hyprpaper) || hyprctl dispatch exec hyprpaper

# hyprwinwrap
bind = SUPER CONTROL, K, exec, pkill cavaWinwrap.sh || (kitty -c ~/.config/hypr/kittybg.conf --class="kitty_bg" ~/.config/hypr/scripts/cavaWinwrap.sh)

# Global Keybinds
# OBS
bind = CONTROL ALT,0,pass,class:^(com\.obsproject\.Studio)$
bind = CONTROL SHIFT ALT,0,pass,class:^(com\.obsproject\.Studio)$
bind = CONTROL ALT,9,pass,class:^(com\.obsproject\.Studio)$
bind = ALT SHIFT,0,pass,class:^(com\.obsproject\.Studio)$
bind = ALT SHIFT,Minus,pass,class:^(com\.obsproject\.Studio)$
bind = ALT SHIFT,Equal,pass,class:^(com\.obsproject\.Studio)$

bind = CONTROL ALT,0,exec,dunstify -t 1000 -a 'OBS Studio' 'Replay Buffer captured'
bind = CONTROL SHIFT ALT,0,exec,dunstify -t 1000 -a 'OBS Studio' 'Replay Buffer Toggled'
bind = CONTROL ALT,9,exec,dunstify -t 1000 -a 'OBS Studio' 'Recording Toggled'
bind = ALT SHIFT,0,exec,dunstify -t 1000 -a 'OBS Studio' 'Input Display Toggled'
bind = ALT SHIFT,Minus,exec,dunstify -t 1000 -a 'OBS Studio' 'Left Input Display Scene'
bind = ALT SHIFT,Equal,exec,dunstify -t 1000 -a 'OBS Studio' 'Right Input Display Scene'

# Discord
bind = CONTROL SHIFT,M,pass,class:^(vesktop)$
bind = CONTROL SHIFT,D,pass,class:^(vesktop)$
